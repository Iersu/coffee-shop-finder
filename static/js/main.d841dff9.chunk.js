(this["webpackJsonpcoffeshop-finder"]=this["webpackJsonpcoffeshop-finder"]||[]).push([[0],{27:function(e,n,t){"use strict";t.r(n);var c,i,r,a,o,l,s,j,d,b,h,u,O,f,p=t(1),x=t.n(p),g=t(14),m=t.n(g),v=t(8),y=t(9),w=t(2),F=t(5),H=t(3),P=t(4),S=P.b.div(c||(c=Object(H.a)([""]))),I=P.b.select(i||(i=Object(H.a)(["\n  margin-left: 5px;\n"]))),T=P.b.h1(r||(r=Object(H.a)(["\n  font-family: 'Rampart One', cursive;\n  font-size: 41px;\n  margin-bottom: 0;\n  \n\n  @media (max-width: 600px) {\n    font-size: 32px;\n    padding-right: 10px;\n  }\n"]))),N=P.b.div(a||(a=Object(H.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  max-width: 450px;\n  width: 100%;\n  padding: 10px;\n  margin: 0 auto;\n  @media (max-width: 600px) {\n    max-width: 400px;\n  }\n"]))),L=P.b.div(o||(o=Object(H.a)(["\n  border: 1px solid #404040;\n  max-width: 450px;\n  width: 100%;\n"]))),C=P.b.div(l||(l=Object(H.a)(["\n  height: 130px;\n  display: flex;\n  padding-left: 15px;\n  border-bottom: 1px solid #e4e4e4;\n"]))),k=P.b.img(s||(s=Object(H.a)(["\n  display: block;\n  height: 100px;\n  width: 100px;\n"]))),z=P.b.p(j||(j=Object(H.a)([""]))),B=P.b.p(d||(d=Object(H.a)(["\n  span {\n    opacity: 0.1;\n  }\n  span:nth-child(-n + ",") {\n    opacity: 1;\n  }\n"])),(function(e){return e.price})),X=P.b.p(b||(b=Object(H.a)(["\n  color: ",";\n"])),(function(e){return e.open?"green":"red"})),Y=P.b.p(h||(h=Object(H.a)([""]))),D=P.b.div(u||(u=Object(H.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  &:first-of-type {\n    padding-right: 15px;\n  }\n  p {\n    margin: 0;\n  }\n"]))),G=P.b.div(O||(O=Object(H.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 500px;\n  margin: auto;\n  img {\n    width: 200px;\n    height: 200px;\n    object-fit: cover;\n  }\n  @media (max-width: 600px) {\n    img {\n      width: 150px;\n      height: 150px;\n      margin-left: 20px;\n    }\n  }\n"]))),Q=P.b.div(f||(f=Object(H.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n\n  justify-content: center;\n  &:nth-of-type(1) {\n    justify-content: flex-end;\n  }\n\n  img {\n    margin-right: 40px;\n    justify-self: flex-start;\n  }\n  h1 {\n    margin-top: 60px;\n    max-width: 400px;\n  }\n"]))),Z=t(0),$=["children"],_=["children"],A=["children"],J=["children"],K=["children"],M=["children"],R=["children"],U=["children"],V=["children"],q=["children"],E=["children"],W=["children"],ee=["children"];function ne(e){var n=e.children,t=Object(F.a)(e,$);return Object(Z.jsx)(S,Object(w.a)(Object(w.a)({},t),{},{children:n}))}ne.Frame=function(e){var n=e.children,t=Object(F.a)(e,_);return Object(Z.jsx)(N,Object(w.a)(Object(w.a)({},t),{},{children:n}))},ne.Header=function(e){var n=e.children,t=Object(F.a)(e,A);return Object(Z.jsx)(G,Object(w.a)(Object(w.a)({},t),{},{children:n}))},ne.Title=function(e){var n=e.children,t=Object(F.a)(e,J);return Object(Z.jsx)(T,Object(w.a)(Object(w.a)({},t),{},{children:n}))},ne.Name=function(e){var n=e.children,t=Object(F.a)(e,K);return Object(Z.jsx)(z,Object(w.a)(Object(w.a)({},t),{},{children:n}))},ne.Item=function(e){var n=e.children,t=Object(F.a)(e,M);return Object(Z.jsx)(C,Object(w.a)(Object(w.a)({},t),{},{children:n}))},ne.Image=function(e){var n=e.children,t=Object(F.a)(e,R);return Object(Z.jsx)(k,Object(w.a)(Object(w.a)({},t),{},{children:n}))},ne.Price=function(e){var n=e.children,t=Object(F.a)(e,U);return Object(Z.jsx)(B,Object(w.a)(Object(w.a)({},t),{},{children:n}))},ne.Open=function(e){var n=e.children,t=Object(F.a)(e,V);return Object(Z.jsx)(X,Object(w.a)(Object(w.a)({},t),{},{children:n}))},ne.Location=function(e){var n=e.children,t=Object(F.a)(e,q);return Object(Z.jsx)(Y,Object(w.a)(Object(w.a)({},t),{},{children:n}))},ne.Pane=function(e){var n=e.children,t=Object(F.a)(e,E);return Object(Z.jsx)(D,Object(w.a)(Object(w.a)({},t),{},{children:n}))},ne.Holder=function(e){var n=e.children,t=Object(F.a)(e,W);return Object(Z.jsx)(Q,Object(w.a)(Object(w.a)({},t),{},{children:n}))},ne.Select=function(e){var n=e.toggleFilter,t=e.setToggleFIlter,c=e.options;return Object(Z.jsx)(I,{name:"filter",value:n,onChange:function(e){var n=e.target;return t(n.value)},children:c.map((function(e,n){var t=e.value,c=e.label;return Object(Z.jsx)("option",{value:t,children:c},n)}))})},ne.Content=function(e){var n=e.children,t=Object(F.a)(e,ee);return Object(Z.jsx)(L,Object(w.a)(Object(w.a)({},t),{},{children:n}))};var te=function(e){var n=e.key,t=e.photoUrl,c=e.name,i=e.price,r=e.index,a=e.location,o=e.distance;return Object(Z.jsxs)(ne.Item,{children:[Object(Z.jsx)(ne.Pane,{children:Object(Z.jsx)(ne.Image,{src:t,alt:c})}),Object(Z.jsxs)(ne.Pane,{children:[Object(Z.jsxs)(ne.Name,{children:[r,".",c]}),Object(Z.jsxs)(ne.Price,{price:i,children:[Object(Z.jsx)("span",{children:"$"}),Object(Z.jsx)("span",{children:"$"}),Object(Z.jsx)("span",{children:"$"}),Object(Z.jsx)("span",{children:"$"})]}),Object(Z.jsx)(ne.Location,{children:a}),Object(Z.jsxs)(ne.Name,{children:[o," m"]})]})]},n)},ce=function(e){var n=e.toggleFilter,t=e.setToggleFIlter,c=e.shops;return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(ne.Header,{children:Object(Z.jsxs)(ne.Holder,{children:[Object(Z.jsx)(ne.Image,{src:"".concat("/coffee-shop-finder","/images/coffee.jpg"),alt:"cup of coffee"}),Object(Z.jsx)(ne.Title,{children:"Coffee Shop Finder"})]})}),Object(Z.jsxs)(ne.Frame,{children:[Object(Z.jsxs)(ne.Holder,{children:[Object(Z.jsx)(ne.Name,{children:"sortBy"}),Object(Z.jsx)(ne.Select,{toggleFilter:n,setToggleFIlter:t,options:[{value:"distance",label:"Distance"},{value:"price",label:"Price"}]})]}),c.length>0?Object(Z.jsx)(ne.Content,{children:c.map((function(e,t){return Object(Z.jsx)(te,Object(w.a)(Object(w.a)({},e),{},{index:t+1}),"".concat(n,"-").concat(t))}))}):Object(Z.jsx)("h2",{children:"No data to display"})]})]})},ie=function(){var e="X0RZXBQWBVGLSYFH522PC00HTZYO2GHVSZPGH03H0AYO1L4O",n="0QHSOXVMKDBXHQ1LKQ2YNPF5NP2GM23THJAPZHUSLLXRYIFK";return{fetchShopDetails:function(t){return fetch("https://api.foursquare.com/v2/venues/".concat(t,"?client_id=").concat(e,"&client_secret=").concat(n,"&v=20212509")).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.error(e.message)}))},fetchShopIds:function(t,c){return fetch("https://api.foursquare.com/v2/venues/search?ll=".concat(t,",").concat(c,"&client_id=").concat(e,"&client_secret=").concat(n,"&categoryId=4bf58dd8d48988d1e0931735&v=20212509&limit=5&radius=15000")).then((function(e){return e.json()})).then((function(e){return e.response})).catch((function(e){console.error(e.message)}))}}};function re(){var e=Object(p.useState)([]),n=Object(y.a)(e,2),t=n[0],c=n[1],i=Object(p.useState)("distance"),r=Object(y.a)(i,2),a=r[0],o=r[1],l=Object(p.useState)(),s=Object(y.a)(l,2),j=s[0],d=s[1],b=ie(),h=b.fetchShopDetails,u=b.fetchShopIds;Object(p.useEffect)((function(){return navigator.geolocation.getCurrentPosition((function(e){var n=e.coords.latitude.toFixed(2),t=e.coords.longitude.toFixed(2);u(n,t).then((function(e){e.venues.map((function(e){var n=e.location.distance,t=e.id;return h(t).then((function(e){var t=e.response;t.venue.popular.isOpen&&c((function(e){return[].concat(Object(v.a)(e),[{name:t.venue.name,distance:n,photoUrl:t.venue.bestPhoto.prefix+"300x300"+t.venue.bestPhoto.suffix,price:t.venue.price.tier,location:t.venue.location.address+","+t.venue.location.city}])}))})).catch((function(e){return console.log(e)})),null}))})).catch((function(e){return console.log(e)}))}),(function(e){return d(e.message)})),function(){}}),[]);var O="distance"===a?Object(v.a)(t).sort((function(e,n){return e.distance-n.distance})):"price"===a?Object(v.a)(t).sort((function(e,n){return n.price-e.price})):void 0;return Object(Z.jsx)(Z.Fragment,{children:j?Object(Z.jsx)(ne.Header,{children:Object(Z.jsx)(ne.Title,{children:"Please allow access to your location"})}):Object(Z.jsx)(ce,{toggleFilter:a,setToggleFIlter:o,shops:O})})}var ae,oe=function(){return Object(Z.jsx)(re,{})},le=Object(P.a)(ae||(ae=Object(H.a)(["\n*{\n    box-sizing: border-box;\n}\nhtml,\nbody {\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-size: 16px;\n    margin: 0;\n    padding: 0;\n    min-width: 350px;\n}\n\n"])));m.a.render(Object(Z.jsxs)(x.a.StrictMode,{children:[Object(Z.jsx)(le,{}),Object(Z.jsx)(oe,{})]}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.d841dff9.chunk.js.map