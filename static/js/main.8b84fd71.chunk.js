(this["webpackJsonpcoffeshop-finder"]=this["webpackJsonpcoffeshop-finder"]||[]).push([[0],{25:function(e,n,t){"use strict";t.r(n);var c,r,i,a,o,s,l,j,d,b,h,u,O,p,f=t(1),x=t.n(f),m=t(13),g=t.n(m),v=t(17),y=t(9),w=t(2),H=t(5),F=t(3),P=t(4),S=P.b.div(c||(c=Object(F.a)(["\n\n"]))),I=P.b.select(r||(r=Object(F.a)(["\n    margin-left: 5px;\n"]))),T=P.b.h1(i||(i=Object(F.a)(["\n    font-family: 'Rampart One', cursive;\n    font-size: 41px;\n    margin-bottom: 0;\n\n    @media(max-width: 600px) {\n        font-size: 32px;\n    }\n"]))),L=P.b.div(a||(a=Object(F.a)(["\n    display:flex;\n    flex-direction: column;\n    align-items: center; \n    max-width: 450px;\n    width: 100%;\n    padding: 10px ;\n    margin: 0 auto; \n    @media(max-width: 600px){\n        max-width: 400px;\n    }\n"]))),N=P.b.div(o||(o=Object(F.a)(["\n    border: 1px solid #404040;\n    max-width: 450px;\n    width: 100%;\n\n   \n  \n\n"]))),C=P.b.div(s||(s=Object(F.a)(["\n    height: 130px;\n    display: flex;\n    padding-left:15px;\n    border-bottom: 1px solid #E4E4E4;\n   \n"]))),z=P.b.img(l||(l=Object(F.a)(["\n    display: block;\n    height:100px;\n    width: 100px;\n"]))),B=P.b.p(j||(j=Object(F.a)([""]))),E=P.b.p(d||(d=Object(F.a)(["\n\n\n    span {\n        opacity: .1;\n    }\n    span:nth-child(-n+","){\n        opacity: 1;\n    }\n    \n"])),(function(e){return e.price})),X=P.b.p(b||(b=Object(F.a)(["\n    color: ",";\n\n"])),(function(e){return e.open?"green":"red"})),Y=P.b.p(h||(h=Object(F.a)([""]))),k=P.b.div(u||(u=Object(F.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content:center; \n    &:first-of-type{\n        padding-right:15px;\n    }\n    p{\n        margin: 0;\n    }\n"]))),D=P.b.div(O||(O=Object(F.a)(["\n    display: flex;\n    flex-direction: column;\n    max-width: 500px;\n    margin: auto;\n    img {\n        width: 200px;\n        height: 200px;\n        object-fit:cover; \n    }\n    @media(max-width: 600px){\n        img {\n            width: 150px;\n            height: 150px;\n            margin-left: 20px;\n            \n        }\n    }\n\n"]))),G=P.b.div(p||(p=Object(F.a)(["\n    display: flex;\n    align-items: center;\n    width: 100%;\n\n        justify-content:center;\n        &:nth-of-type(1) {\n            justify-content:flex-end;\n        }\n    \n        img {\n            margin-right: 40px;\n            justify-self:flex-start;\n           \n        }\n        h1 {\n            margin-top: 60px;\n            max-width: 400px;\n        }\n\n"]))),Q=t(0),Z=["children"],$=["children"],_=["children"],A=["children"],J=["children"],K=["children"],M=["children"],R=["children"],U=["children"],V=["children"],q=["children"],W=["children"],ee=["toggleFilter","setToggleFIlter","children"],ne=["children"];function te(e){var n=e.children,t=Object(H.a)(e,Z);return Object(Q.jsx)(S,Object(w.a)(Object(w.a)({},t),{},{children:n}))}function ce(){var e=Object(f.useState)([]),n=Object(y.a)(e,2),t=n[0],c=n[1],r=Object(f.useState)("distance"),i=Object(y.a)(r,2),a=i[0],o=i[1],s=Object(f.useState)(""),l=Object(y.a)(s,2),j=l[0],d=l[1],b=function(){var e="X0RZXBQWBVGLSYFH522PC00HTZYO2GHVSZPGH03H0AYO1L4O",n="0QHSOXVMKDBXHQ1LKQ2YNPF5NP2GM23THJAPZHUSLLXRYIFK";return{fetchShopDetails:function(t){return fetch("https://api.foursquare.com/v2/venues/".concat(t,"?client_id=").concat(e,"&client_secret=").concat(n,"&v=20212509")).then((function(e){return e.json()})).then((function(e){var n=e;return console.log(n),n})).catch((function(e){console.error(e.message)}))},fetchShopId:function(t,c){return fetch("https://api.foursquare.com/v2/venues/search?ll=".concat(t,",").concat(c,"&client_id=").concat(e,"&client_secret=").concat(n,"&categoryId=4bf58dd8d48988d1e0931735&v=20212509&limit=5&radius=15000")).then((function(e){return e.json()})).then((function(e){return e.response})).catch((function(e){console.error(e.message)}))}}}(),h=b.fetchShopDetails,u=b.fetchShopId;Object(f.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var n=e.coords.latitude.toFixed(2),t=e.coords.longitude.toFixed(2);u(n,t).then((function(e){e.venues.map((function(e,n){var t=e.location.distance,r=e.id;return h(r).then((function(e){e.response.venue.popular.isOpen&&e.response.venue.price.tier&&c((function(n){return[].concat(Object(v.a)(n),[{name:e.response.venue.name,distance:t,photoUrl:e.response.venue.bestPhoto.prefix+"300x300"+e.response.venue.bestPhoto.suffix,price:e.response.venue.price.tier,location:e.response.venue.location.address+","+e.response.venue.location.city}])}))})).catch((function(e){return console.error(e.message)})),null}))}))}),(function(e){return d(e.message)}))}),[]);return Object(Q.jsx)(Q.Fragment,{children:j?Object(Q.jsx)(te.Header,{children:Object(Q.jsx)(te.Title,{children:"Please allow access to your location"})}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(te.Header,{children:Object(Q.jsxs)(te.Holder,{children:[Object(Q.jsx)(te.Image,{src:"./images/coffee.jpg",alt:"cup of coffee"}),Object(Q.jsx)(te.Title,{children:"Coffee Shop Finder"})]})}),Object(Q.jsxs)(te.Frame,{children:[Object(Q.jsxs)(te.Holder,{children:[Object(Q.jsx)(te.Name,{children:"sortBy"}),Object(Q.jsx)(te.Select,{toggleFilter:a,setToggleFIlter:o})]}),Object(Q.jsx)(te.Content,{children:function(e){if("distance"===e){var n=t;return n.sort((function(e,n){return e.distance-n.distance})),n}if("price"===e){var c=t;return c.sort((function(e,n){return n.price-e.price})),c}}(a).map((function(e,n){return Object(Q.jsxs)(te.Item,{children:[Object(Q.jsx)(te.Pane,{children:Object(Q.jsx)(te.Image,{src:e.photoUrl,alt:e.name})}),Object(Q.jsxs)(te.Pane,{children:[Object(Q.jsxs)(te.Name,{children:[n+1,".",e.name]}),Object(Q.jsxs)(te.Price,{price:e.price,children:[Object(Q.jsx)("span",{children:"$"}),Object(Q.jsx)("span",{children:"$"}),Object(Q.jsx)("span",{children:"$"}),Object(Q.jsx)("span",{children:"$"})]}),Object(Q.jsx)(te.Location,{children:e.location}),Object(Q.jsxs)(te.Name,{children:[e.distance," m"]})]})]},"".concat(a,"-").concat(n))}))})]})," "]})})}te.Frame=function(e){var n=e.children,t=Object(H.a)(e,$);return Object(Q.jsx)(L,Object(w.a)(Object(w.a)({},t),{},{children:n}))},te.Header=function(e){var n=e.children,t=Object(H.a)(e,_);return Object(Q.jsx)(D,Object(w.a)(Object(w.a)({},t),{},{children:n}))},te.Title=function(e){var n=e.children,t=Object(H.a)(e,A);return Object(Q.jsx)(T,Object(w.a)(Object(w.a)({},t),{},{children:n}))},te.Name=function(e){var n=e.children,t=Object(H.a)(e,J);return Object(Q.jsx)(B,Object(w.a)(Object(w.a)({},t),{},{children:n}))},te.Item=function(e){var n=e.children,t=Object(H.a)(e,K);return Object(Q.jsx)(C,Object(w.a)(Object(w.a)({},t),{},{children:n}))},te.Image=function(e){var n=e.children,t=Object(H.a)(e,M);return Object(Q.jsx)(z,Object(w.a)(Object(w.a)({},t),{},{children:n}))},te.Price=function(e){var n=e.children,t=Object(H.a)(e,R);return Object(Q.jsx)(E,Object(w.a)(Object(w.a)({},t),{},{children:n}))},te.Open=function(e){var n=e.children,t=Object(H.a)(e,U);return Object(Q.jsx)(X,Object(w.a)(Object(w.a)({},t),{},{children:n}))},te.Location=function(e){var n=e.children,t=Object(H.a)(e,V);return Object(Q.jsx)(Y,Object(w.a)(Object(w.a)({},t),{},{children:n}))},te.Pane=function(e){var n=e.children,t=Object(H.a)(e,q);return Object(Q.jsx)(k,Object(w.a)(Object(w.a)({},t),{},{children:n}))},te.Holder=function(e){var n=e.children,t=Object(H.a)(e,W);return Object(Q.jsx)(G,Object(w.a)(Object(w.a)({},t),{},{children:n}))},te.Select=function(e){var n=e.toggleFilter,t=e.setToggleFIlter;e.children,Object(H.a)(e,ee);return Object(Q.jsxs)(I,{name:"filter",value:n,onChange:function(e){var n=e.target;return t(n.value)},children:[Object(Q.jsx)("option",{value:"distance",children:"Distance"}),Object(Q.jsx)("option",{value:"price",children:"Price"})]})},te.Content=function(e){var n=e.children,t=Object(H.a)(e,ne);return Object(Q.jsx)(N,Object(w.a)(Object(w.a)({},t),{},{children:n}))};var re,ie=function(){return Object(Q.jsx)(ce,{})},ae=Object(P.a)(re||(re=Object(F.a)(["\n*{\n    box-sizing: border-box;\n}\nhtml,\nbody {\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-size: 16px;\n    margin: 0;\n    padding: 0;\n    min-width: 350px;\n}\n\n"])));g.a.render(Object(Q.jsxs)(x.a.StrictMode,{children:[Object(Q.jsx)(ae,{}),Object(Q.jsx)(ie,{})]}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.8b84fd71.chunk.js.map