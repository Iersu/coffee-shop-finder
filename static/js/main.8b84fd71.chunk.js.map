{"version":3,"sources":["components/styles/coffeshop-styles.js","components/coffeshop.js","page/coffeshop.js","hook/useData.js","App.js","globalStyles.js","index.js"],"names":["Container","styled","div","Select","select","Title","h1","Frame","Content","Item","Image","img","Name","p","Price","price","Open","open","Location","Pane","Header","Holder","Main","children","restProps","CoffeSearch","useState","shops","setShops","toggleFilter","setToggleFIlter","error","setError","CLIENT_ID","CLIENT_SECRET","fetchShopDetails","itemId","fetch","then","res","json","data","results","console","log","catch","err","message","fetchShopId","lati","long","response","UseData","useEffect","navigator","geolocation","getCurrentPosition","position","coords","latitude","toFixed","longitude","venues","map","item","index","distance","location","id","venue","popular","isOpen","tier","prev","name","photoUrl","bestPhoto","prefix","suffix","address","city","src","alt","sortBy","updated","sort","a","b","sorter","value","onChange","target","App","GlobalStyles","createGlobalStyle","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8b84fd71.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n\r\n`\r\nexport const Select = styled.select`\r\n    margin-left: 5px;\r\n`\r\n\r\nexport const Title = styled.h1`\r\n    font-family: 'Rampart One', cursive;\r\n    font-size: 41px;\r\n    margin-bottom: 0;\r\n\r\n    @media(max-width: 600px) {\r\n        font-size: 32px;\r\n    }\r\n`\r\n\r\nexport const Frame = styled.div`\r\n    display:flex;\r\n    flex-direction: column;\r\n    align-items: center; \r\n    max-width: 450px;\r\n    width: 100%;\r\n    padding: 10px ;\r\n    margin: 0 auto; \r\n    @media(max-width: 600px){\r\n        max-width: 400px;\r\n    }\r\n`\r\n\r\nexport const Content = styled.div`\r\n    border: 1px solid #404040;\r\n    max-width: 450px;\r\n    width: 100%;\r\n\r\n   \r\n  \r\n\r\n`\r\nexport const Item = styled.div`\r\n    height: 130px;\r\n    display: flex;\r\n    padding-left:15px;\r\n    border-bottom: 1px solid #E4E4E4;\r\n   \r\n`\r\nexport const Image = styled.img`\r\n    display: block;\r\n    height:100px;\r\n    width: 100px;\r\n`\r\nexport const Name = styled.p``\r\nexport const Price = styled.p`\r\n\r\n\r\n    span {\r\n        opacity: .1;\r\n    }\r\n    span:nth-child(-n+${({ price }) => price}){\r\n        opacity: 1;\r\n    }\r\n    \r\n`\r\nexport const Open = styled.p`\r\n    color: ${({open}) => open ? \"green\" : \"red\"};\r\n\r\n`\r\nexport const Location = styled.p``\r\nexport const Pane = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content:center; \r\n    &:first-of-type{\r\n        padding-right:15px;\r\n    }\r\n    p{\r\n        margin: 0;\r\n    }\r\n`\r\n\r\nexport const Header = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    max-width: 500px;\r\n    margin: auto;\r\n    img {\r\n        width: 200px;\r\n        height: 200px;\r\n        object-fit:cover; \r\n    }\r\n    @media(max-width: 600px){\r\n        img {\r\n            width: 150px;\r\n            height: 150px;\r\n            margin-left: 20px;\r\n            \r\n        }\r\n    }\r\n\r\n`\r\nexport const Holder = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n\r\n        justify-content:center;\r\n        &:nth-of-type(1) {\r\n            justify-content:flex-end;\r\n        }\r\n    \r\n        img {\r\n            margin-right: 40px;\r\n            justify-self:flex-start;\r\n           \r\n        }\r\n        h1 {\r\n            margin-top: 60px;\r\n            max-width: 400px;\r\n        }\r\n\r\n`","import React from 'react'\r\nimport { \r\n    Container,\r\n    Title,\r\n    Select,\r\n    Frame, \r\n    Content, \r\n    Item ,\r\n    Image,\r\n    Name,\r\n    Price,\r\n    Open,\r\n    Location,\r\n    Pane,\r\n    Header,\r\n    Holder\r\n\r\n    } from \"./styles/coffeshop-styles\"\r\n\r\n\r\nexport default function Main({ children, ...restProps }) {\r\n    return <Container {...restProps}>{children}</Container>\r\n} \r\n\r\nMain.Frame = function MainFrame({ children,  ...restProps  }) {\r\n\r\n    return <Frame {...restProps}>{children}</Frame>\r\n}\r\nMain.Header = function MainHeader({ children,  ...restProps  }) {\r\n    return <Header {...restProps}>{children}</Header>\r\n}\r\n\r\nMain.Title = function MainTitle({ children,  ...restProps  }) {\r\n    return <Title {...restProps}>{children}</Title>\r\n}\r\nMain.Name = function MainName({ children,  ...restProps  }) {\r\n    return <Name {...restProps}>{children}</Name>\r\n}\r\nMain.Item = function MainItem({ children,  ...restProps  }) {\r\n    return <Item {...restProps}>{children}</Item>\r\n}\r\nMain.Image = function MainImage({ children,  ...restProps  }) {\r\n    return <Image {...restProps}>{children}</Image>\r\n}\r\nMain.Price = function MainPrice({ children,  ...restProps  }) {\r\n    return <Price {...restProps}>{children}</Price>\r\n}\r\nMain.Open = function MainOpen({ children,  ...restProps  }) {\r\n    return <Open {...restProps}>{children}</Open>\r\n}\r\nMain.Location = function MainLocation({ children,  ...restProps  }) {\r\n    return <Location {...restProps}>{children}</Location>\r\n}\r\nMain.Pane = function MainPane({ children,  ...restProps  }) {\r\n    return <Pane {...restProps}>{children}</Pane>\r\n}\r\n\r\nMain.Holder = function MainHolder({ children,  ...restProps  }) {\r\n    return <Holder {...restProps}>{children}</Holder>\r\n}\r\n\r\n\r\nMain.Select = function MainSelect({ toggleFilter, setToggleFIlter  ,children, ...restProps }) {\r\n   \r\n    return (\r\n    <Select name=\"filter\" value={toggleFilter} onChange={({ target }) => setToggleFIlter(target.value) }>\r\n    <option value=\"distance\">Distance</option>\r\n    <option value=\"price\">Price</option>\r\n    </Select>)\r\n    \r\n}\r\n\r\nMain.Content = function MainContent({ children, ...restProps  }){   \r\n\r\n    return <Content {...restProps}>{children}</Content>\r\n\r\n}","import { useState, useEffect } from \"react\";\r\nimport  Main  from \"../components/coffeshop\"\r\nimport { UseData } from \"../hook/useData\";\r\n\r\n\r\n\r\nexport default function CoffeSearch() {\r\n    const [shops, setShops] = useState([])\r\n    const [toggleFilter, setToggleFIlter] = useState(\"distance\")\r\n    const [error, setError] = useState('')\r\n\r\n    const { fetchShopDetails, fetchShopId} = UseData()\r\n\r\n\r\n \r\n    \r\n    useEffect(() => { \r\n        navigator.geolocation.getCurrentPosition( (position) => {\r\n        \r\n            const lati = position.coords.latitude.toFixed(2) \r\n            const long = position.coords.longitude.toFixed(2)\r\n            \r\n            fetchShopId(lati,long).then( data => {\r\n\r\n                        data.venues.map((item, index) => {\r\n                             const distance = item.location.distance\r\n                             const itemId = item.id\r\n                              fetchShopDetails(itemId).then(data => {\r\n                                   if(data.response.venue.popular.isOpen && data.response.venue.price.tier) setShops(prev => [...prev,{name:data.response.venue.name,\r\n                                    distance: distance,\r\n                                    photoUrl: data.response.venue.bestPhoto.prefix +\"300x300\"+ data.response.venue.bestPhoto.suffix,\r\n                                    price:data.response.venue.price.tier ,\r\n                                    location:data.response.venue.location.address +\",\"+ data.response.venue.location.city,\r\n                                \r\n                                    }\r\n                                     ])  \r\n                                      \r\n                                    }).catch(err=> console.error(err.message))\r\n                                        \r\n                           return  null\r\n                        })\r\n                        \r\n            })\r\n        }, (error) => setError(error.message))\r\n            \r\n    }, []) \r\n\r\n\r\n       const sorter = (sortBy) => {\r\n        if(sortBy === 'distance'){\r\n            let updated = shops\r\n            updated.sort((a, b) => a.distance - b.distance)\r\n            return  updated\r\n        }\r\n        else if (sortBy === 'price'){\r\n            let updated = shops\r\n            updated.sort((a, b) => b.price - a.price)\r\n            return  updated\r\n        }\r\n    } \r\n   \r\n    return (\r\n    <>{ !error ? (  <>\r\n        <Main.Header>\r\n            <Main.Holder>\r\n                <Main.Image  src=\"./images/coffee.jpg\" alt=\"cup of coffee\"/>\r\n                <Main.Title>\r\n                    Coffee Shop Finder\r\n                </Main.Title>\r\n            </Main.Holder>\r\n            \r\n        </Main.Header>\r\n        <Main.Frame>\r\n            <Main.Holder>\r\n                <Main.Name>sortBy</Main.Name>\r\n                <Main.Select toggleFilter={toggleFilter} setToggleFIlter={setToggleFIlter} />\r\n        </Main.Holder>\r\n        <Main.Content >\r\n        { sorter(toggleFilter,shops).map((item, index) => (\r\n            <Main.Item key={`${toggleFilter}-${index}`} >\r\n                <Main.Pane>\r\n                     <Main.Image src={item.photoUrl} alt={item.name}/>\r\n                </Main.Pane>\r\n             <Main.Pane>\r\n                    <Main.Name>{index+1}.{item.name}</Main.Name>\r\n                    <Main.Price price={item.price} >\r\n                        <span>$</span>\r\n                        <span>$</span>\r\n                        <span>$</span>\r\n                        <span>$</span>\r\n                    </Main.Price>\r\n                    <Main.Location>{item.location}</Main.Location >\r\n                    <Main.Name>{item.distance} m</Main.Name>\r\n                </Main.Pane>\r\n            \r\n            </Main.Item>\r\n            \r\n            ))}\r\n\r\n        </Main.Content>\r\n    </Main.Frame> </>) : (\r\n\r\n    <Main.Header>\r\n        <Main.Title>\r\n            Please allow access to your location \r\n        </Main.Title>\r\n    </Main.Header>\r\n    \r\n    )}\r\n  \r\n    \r\n       \r\n    </>\r\n    )\r\n}","\r\n\r\nexport  function UseData() {\r\n\r\n    const CLIENT_ID = \"X0RZXBQWBVGLSYFH522PC00HTZYO2GHVSZPGH03H0AYO1L4O\"\r\n    const CLIENT_SECRET = \"0QHSOXVMKDBXHQ1LKQ2YNPF5NP2GM23THJAPZHUSLLXRYIFK\"\r\n\r\n    const fetchShopId = ( lati, long) => {\r\n        return  fetch(`https://api.foursquare.com/v2/venues/search?ll=${lati},${long}&client_id=${CLIENT_ID}&client_secret=${CLIENT_SECRET}&categoryId=4bf58dd8d48988d1e0931735&v=20212509&limit=5&radius=15000`)\r\n        .then(res => res.json())\r\n        .then(data => { \r\n            const results = data.response\r\n            return results\r\n        })\r\n        .catch((err) => {\r\n            console.error(err.message)\r\n        })\r\n    }\r\n    const fetchShopDetails = ( itemId) => {\r\n       \r\n             return fetch(`https://api.foursquare.com/v2/venues/${itemId}?client_id=${CLIENT_ID}&client_secret=${CLIENT_SECRET}&v=20212509`)\r\n                    .then(res => res.json()) \r\n                    .then(data => { \r\n                        const results = data\r\n                        console.log(results)\r\n                        return results\r\n                    })\r\n                    .catch((err) => {\r\n                        console.error(err.message)\r\n                    })\r\n                     \r\n                                          \r\n    }\r\n\r\n    return { fetchShopDetails, fetchShopId }\r\n\r\n    \r\n}\r\n\r\n\r\n","import React from 'react'\nimport CoffeSearch from './page/coffeshop';\n\nexport function App() {\n  return <CoffeSearch/>\n}\n\nexport default App;\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n*{\r\n    box-sizing: border-box;\r\n}\r\nhtml,\r\nbody {\r\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    font-size: 16px;\r\n    margin: 0;\r\n    padding: 0;\r\n    min-width: 350px;\r\n}\r\n\r\n`","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { GlobalStyles } from \"./globalStyles\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <GlobalStyles/>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}